{"remainingRequest":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\86191\\Desktop\\text\\Authentication_web\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\src\\views\\Login.vue","mtime":1656051313673},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IFZhbGlkQ29kZSBmcm9tICJAL2NvbXBvbmVudHMvVmFsaWRDb2RlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50czogewogICAgVmFsaWRDb2RlOiBWYWxpZENvZGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2ZWRpb0NhblBsYXk6IGZhbHNlLAogICAgICBmaXhTdHlsZTogJycsCiAgICAgIGZvcm06IHt9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHB3ZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICB2YWxpZENvZGU6ICcnCiAgICB9OwogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXF1ZXN0LmdldCgiL3VzZXIvY291bnQiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgaWYgKHJlcy5kYXRhID09PSAwKSB7CiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvYWRtaW4iKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwoKICAgIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHdpbmRvd1dpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKICAgICAgdmFyIHdpbmRvd0hlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OwogICAgICB2YXIgd2luZG93QXNwZWN0UmF0aW8gPSB3aW5kb3dIZWlnaHQgLyB3aW5kb3dXaWR0aDsKICAgICAgdmFyIHZpZGVvV2lkdGg7CiAgICAgIHZhciB2aWRlb0hlaWdodDsKCiAgICAgIGlmICh3aW5kb3dBc3BlY3RSYXRpbyA8IDAuNTYyNSkgewogICAgICAgIHZpZGVvV2lkdGggPSB3aW5kb3dXaWR0aDsKICAgICAgICB2aWRlb0hlaWdodCA9IHZpZGVvV2lkdGggKiAwLjU2MjU7CiAgICAgICAgX3RoaXMyLmZpeFN0eWxlID0gewogICAgICAgICAgaGVpZ2h0OiB3aW5kb3dXaWR0aCAqIDAuNTYyNSArICdweCcsCiAgICAgICAgICB3aWR0aDogd2luZG93V2lkdGggKyAncHgnLAogICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAod2luZG93SGVpZ2h0IC0gdmlkZW9IZWlnaHQpIC8gMiArICdweCcsCiAgICAgICAgICAnbWFyZ2luLWxlZnQnOiAnaW5pdGlhbCcKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHZpZGVvSGVpZ2h0ID0gd2luZG93SGVpZ2h0OwogICAgICAgIHZpZGVvV2lkdGggPSB2aWRlb0hlaWdodCAvIDAuNTYyNTsKICAgICAgICBfdGhpczIuZml4U3R5bGUgPSB7CiAgICAgICAgICBoZWlnaHQ6IHdpbmRvd0hlaWdodCArICdweCcsCiAgICAgICAgICB3aWR0aDogd2luZG93SGVpZ2h0IC8gMC41NjI1ICsgJ3B4JywKICAgICAgICAgICdtYXJnaW4tbGVmdCc6ICh3aW5kb3dXaWR0aCAtIHZpZGVvV2lkdGgpIC8gMiArICdweCcsCiAgICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICdpbml0aWFsJwogICAgICAgIH07CiAgICAgIH0KICAgIH07CgogICAgd2luZG93Lm9ucmVzaXplKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW5wbGF5OiBmdW5jdGlvbiBjYW5wbGF5KCkgewogICAgICB0aGlzLnZlZGlvQ2FuUGxheSA9IHRydWU7CiAgICB9LAogICAgLy8g5o6l5pS26aqM6K+B56CB57uE5Lu25o+Q5Lqk55qEIDTkvY3pqozor4HnoIEKICAgIGNyZWF0ZVZhbGlkQ29kZTogZnVuY3Rpb24gY3JlYXRlVmFsaWRDb2RlKGRhdGEpIHsKICAgICAgdGhpcy52YWxpZENvZGUgPSBkYXRhOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoIV90aGlzMy5mb3JtLnZhbGlkQ29kZSkgewogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoIuivt+Whq+WGmemqjOivgeeggSIpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpczMuZm9ybS52YWxpZENvZGUudG9Mb3dlckNhc2UoKSAhPT0gX3RoaXMzLnZhbGlkQ29kZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcigi6aqM6K+B56CB6ZSZ6K+vIik7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgcmVxdWVzdC5wb3N0KCIvdXNlci9sb2dpbiIsIF90aGlzMy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygi55m76ZmG5oiQ5YqfIik7CgogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOyAvLyDnvJPlrZjnlKjmiLfkv6Hmga8KCiAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgiLyIpOyAvL+eZu+W9leaIkOWKn+S5i+WQjui/m+ihjOmhtemdoueahOi3s+i9rO+8jOi3s+i9rOWIsOS4u+mhtQoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\86191\\Desktop\\text\\Authentication_web\\src\\views\\Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"homepage-hero-module\">\n    <div class=\"video-container\">\n      <div :style=\"fixStyle\" class=\"filter\">\n        <div style=\"width: 400px; margin: 100px auto\">\n          <div style=\"font-size: 30px; text-align: center; padding: 30px 0; color: #333\">欢迎登录</div>\n          <el-form ref=\"form\" :model=\"form\" size=\"normal\" :rules=\"rules\">\n            <el-form-item prop=\"username\">\n              <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"form.username\" placeholder=\"请输入用户名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input prefix-icon=\"el-icon-lock\" v-model=\"form.pwd\" show-password placeholder=\"请输入密码\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <div style=\"display: flex\">\n                <el-input prefix-icon=\"el-icon-key\" v-model=\"form.validCode\" style=\"width: 50%;\" placeholder=\"请输入验证码\"></el-input>\n                <ValidCode @input=\"createValidCode\" />\n              </div>\n            </el-form-item>\n            <el-form-item>\n              <el-button style=\"width: 100%\" type=\"primary\" @click=\"login\">登 录</el-button>\n            </el-form-item>\n            <!-- <el-form-item><el-button type=\"text\" @click=\"$router.push('/register')\">前往注册 >> </el-button></el-form-item> -->\n          </el-form>\n        </div>\n      </div>\n      <video :style=\"fixStyle\" autoplay loop muted class=\"fillWidth\" v-on:canplay=\"canplay\">\n        <source src=\"../assets/sea.mp4\" type=\"video/mp4\"/>\n        浏览器不支持 video 标签，建议升级浏览器。\n      </video>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport ValidCode from \"@/components/ValidCode\";\n\nexport default {\n  name: \"Login\",\n  components:{\n    ValidCode,\n  },\n  data() {\n    return {\n      vedioCanPlay: false,\n      fixStyle: '',\n      form: {},\n      rules: {\n        username: [\n          {required: true, message: '请输入用户名', trigger: 'blur'},\n        ],\n        pwd: [\n          {required: true, message: '请输入密码', trigger: 'blur'},\n        ],\n      },\n      validCode: ''\n    }\n  },\n   beforeMount(){\n     request.get(\"/user/count\").then(res=>{\n       if(res.data===0){\n          this.$router.push(\"/admin\")\n       }\n     })\n   },\n  mounted() {\n    sessionStorage.removeItem(\"user\")\n    window.onresize = () => {\n      const windowWidth = document.body.clientWidth\n      const windowHeight = document.body.clientHeight\n      const windowAspectRatio = windowHeight / windowWidth\n      let videoWidth\n      let videoHeight\n      if (windowAspectRatio < 0.5625) {\n        videoWidth = windowWidth\n        videoHeight = videoWidth * 0.5625\n        this.fixStyle = {\n          height: windowWidth * 0.5625 + 'px',\n          width: windowWidth + 'px',\n          'margin-bottom': (windowHeight - videoHeight) / 2 + 'px',\n          'margin-left': 'initial'\n        }\n      } else {\n        videoHeight = windowHeight\n        videoWidth = videoHeight / 0.5625\n        this.fixStyle = {\n          height: windowHeight + 'px',\n          width: windowHeight / 0.5625 + 'px',\n          'margin-left': (windowWidth - videoWidth) / 2 + 'px',\n          'margin-bottom': 'initial'\n        }\n      }\n    }\n    window.onresize()\n  },\n  methods: {\n    canplay() {\n      this.vedioCanPlay = true\n    },\n    // 接收验证码组件提交的 4位验证码\n    createValidCode(data) {\n      this.validCode = data\n    },\n    login () {\n      this.$refs['form'].validate((valid) => {\n        if (valid) {\n          if (!this.form.validCode) {\n            this.$message.error(\"请填写验证码\")\n            return\n          }\n          if(this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\n            this.$message.error(\"验证码错误\")\n            return\n          }\n          request.post(\"/user/login\", this.form).then(res => {\n            if (res.code === '0') {\n              this.$message.success(\"登陆成功\");\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data))  // 缓存用户信息\n              this.$router.push(\"/\")  //登录成功之后进行页面的跳转，跳转到主页\n\n            } else {\n              this.$message.error(res.msg);\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.homepage-hero-module,\n.video-container {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.video-container .poster img{\n  z-index: 0;\n  position: absolute;\n}\n\n.video-container .filter {\n  z-index: 1;\n  position: absolute;\n  /*background: rgba(0, 0, 0, 0.4);*/\n  width: 100%;\n}\n\n.fillWidth {\n  width: 100%;\n}\n</style>\n"],"sourceRoot":""}]}