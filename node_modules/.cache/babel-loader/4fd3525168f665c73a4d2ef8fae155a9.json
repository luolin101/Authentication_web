{"remainingRequest":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\86191\\Desktop\\text\\Authentication_web\\src\\components\\common\\Tags.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\src\\components\\common\\Tags.vue","mtime":1611590737000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IGJ1cyBmcm9tICcuL2J1cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFnc0xpc3Q6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKHBhdGgpIHsKICAgICAgcmV0dXJuIHBhdGggPT09IHRoaXMuJHJvdXRlLmZ1bGxQYXRoOwogICAgfSwKICAgIC8vIOWFs+mXreWNleS4quagh+etvgogICAgY2xvc2VUYWdzOiBmdW5jdGlvbiBjbG9zZVRhZ3MoaW5kZXgpIHsKICAgICAgdmFyIGRlbEl0ZW0gPSB0aGlzLnRhZ3NMaXN0LnNwbGljZShpbmRleCwgMSlbMF07CiAgICAgIHZhciBpdGVtID0gdGhpcy50YWdzTGlzdFtpbmRleF0gPyB0aGlzLnRhZ3NMaXN0W2luZGV4XSA6IHRoaXMudGFnc0xpc3RbaW5kZXggLSAxXTsKCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgZGVsSXRlbS5wYXRoID09PSB0aGlzLiRyb3V0ZS5mdWxsUGF0aCAmJiB0aGlzLiRyb3V0ZXIucHVzaChpdGVtLnBhdGgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDlhbPpl63lhajpg6jmoIfnrb4KICAgIGNsb3NlQWxsOiBmdW5jdGlvbiBjbG9zZUFsbCgpIHsKICAgICAgdGhpcy50YWdzTGlzdCA9IFtdOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfSwKICAgIC8vIOWFs+mXreWFtuS7luagh+etvgogICAgY2xvc2VPdGhlcjogZnVuY3Rpb24gY2xvc2VPdGhlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjdXJJdGVtID0gdGhpcy50YWdzTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSBfdGhpcy4kcm91dGUuZnVsbFBhdGg7CiAgICAgIH0pOwogICAgICB0aGlzLnRhZ3NMaXN0ID0gY3VySXRlbTsKICAgIH0sCiAgICAvLyDorr7nva7moIfnrb4KICAgIHNldFRhZ3M6IGZ1bmN0aW9uIHNldFRhZ3Mocm91dGUpIHsKICAgICAgdmFyIGlzRXhpc3QgPSB0aGlzLnRhZ3NMaXN0LnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSByb3V0ZS5mdWxsUGF0aDsKICAgICAgfSk7CgogICAgICBpZiAoIWlzRXhpc3QpIHsKICAgICAgICBpZiAodGhpcy50YWdzTGlzdC5sZW5ndGggPj0gOCkgewogICAgICAgICAgdGhpcy50YWdzTGlzdC5zaGlmdCgpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy50YWdzTGlzdC5wdXNoKHsKICAgICAgICAgIHRpdGxlOiByb3V0ZS5tZXRhLnRpdGxlLAogICAgICAgICAgcGF0aDogcm91dGUuZnVsbFBhdGggLy9uYW1lOiByb3V0ZS5tYXRjaGVkWzFdLmNvbXBvbmVudHMuZGVmYXVsdC5uYW1lCgogICAgICAgIH0pOwogICAgICB9CgogICAgICBidXMuJGVtaXQoJ3RhZ3MnLCB0aGlzLnRhZ3NMaXN0KTsKICAgIH0sCiAgICBoYW5kbGVUYWdzOiBmdW5jdGlvbiBoYW5kbGVUYWdzKGNvbW1hbmQpIHsKICAgICAgY29tbWFuZCA9PT0gJ290aGVyJyA/IHRoaXMuY2xvc2VPdGhlcigpIDogdGhpcy5jbG9zZUFsbCgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dUYWdzOiBmdW5jdGlvbiBzaG93VGFncygpIHsKICAgICAgcmV0dXJuIHRoaXMudGFnc0xpc3QubGVuZ3RoID4gMDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgdGhpcy5zZXRUYWdzKG5ld1ZhbHVlKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLnNldFRhZ3ModGhpcy4kcm91dGUpOyAvLyDnm5HlkKzlhbPpl63lvZPliY3pobXpnaLnmoTmoIfnrb7pobUKCiAgICBidXMuJG9uKCdjbG9zZV9jdXJyZW50X3RhZ3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBfdGhpczIudGFnc0xpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB2YXIgaXRlbSA9IF90aGlzMi50YWdzTGlzdFtpXTsKCiAgICAgICAgaWYgKGl0ZW0ucGF0aCA9PT0gX3RoaXMyLiRyb3V0ZS5mdWxsUGF0aCkgewogICAgICAgICAgaWYgKGkgPCBsZW4gLSAxKSB7CiAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goX3RoaXMyLnRhZ3NMaXN0W2kgKyAxXS5wYXRoKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IDApIHsKICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaChfdGhpczIudGFnc0xpc3RbaSAtIDFdLnBhdGgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMi50YWdzTGlzdC5zcGxpY2UoaSwgMSk7CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\86191\\Desktop\\text\\Authentication_web\\src\\components\\common\\Tags.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"tags\" v-if=\"showTags\">\n        <ul>\n            <li class=\"tags-li\" v-for=\"(item,index) in tagsList\" :class=\"{'active': isActive(item.path)}\" :key=\"index\">\n                <router-link :to=\"item.path\" class=\"tags-li-title\">\n                    {{item.title}}\n                </router-link>\n                <span class=\"tags-li-icon\" @click=\"closeTags(index)\"><i class=\"el-icon-close\"></i></span>\n            </li>\n        </ul>\n        <div class=\"tags-close-box\">\n            <el-dropdown @command=\"handleTags\">\n                <el-button size=\"mini\" type=\"primary\">\n                    标签选项<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                </el-button>\n                <el-dropdown-menu size=\"small\" slot=\"dropdown\">\n                    <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\n                    <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n        </div>\n    </div>\n</template>\n\n<script>\n    import bus from './bus';\n    export default {\n        data() {\n            return {\n                tagsList: []\n            }\n        },\n        methods: {\n            isActive(path) {\n                return path === this.$route.fullPath;\n            },\n            // 关闭单个标签\n            closeTags(index) {\n                const delItem = this.tagsList.splice(index, 1)[0];\n                const item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\n                if (item) {\n                    delItem.path === this.$route.fullPath && this.$router.push(item.path);\n                }else{\n                    this.$router.push('/');\n                }\n            },\n            // 关闭全部标签\n            closeAll(){\n                this.tagsList = [];\n                this.$router.push('/');\n            },\n            // 关闭其他标签\n            closeOther(){\n                const curItem = this.tagsList.filter(item => {\n                    return item.path === this.$route.fullPath;\n                })\n                this.tagsList = curItem;\n            },\n            // 设置标签\n            setTags(route){\n                const isExist = this.tagsList.some(item => {\n                    return item.path === route.fullPath;\n                })\n                if(!isExist){\n                    if(this.tagsList.length >= 8){\n                        this.tagsList.shift();\n                    }\n                    this.tagsList.push({\n                        title: route.meta.title,\n                        path: route.fullPath\n                        //name: route.matched[1].components.default.name\n                    })\n                }\n                bus.$emit('tags', this.tagsList);\n            },\n            handleTags(command){\n                command === 'other' ? this.closeOther() : this.closeAll();\n            }\n        },\n        computed: {\n            showTags() {\n                return this.tagsList.length > 0;\n            }\n        },\n        watch:{\n            $route(newValue, oldValue){\n                this.setTags(newValue);\n            }\n        },\n        created(){\n            this.setTags(this.$route);\n            // 监听关闭当前页面的标签页\n            bus.$on('close_current_tags', () => {\n                for (let i = 0, len = this.tagsList.length; i < len; i++) {\n                    const item = this.tagsList[i];\n                    if(item.path === this.$route.fullPath){\n                        if(i < len - 1){\n                            this.$router.push(this.tagsList[i+1].path);\n                        }else if(i > 0){\n                            this.$router.push(this.tagsList[i-1].path);\n                        }else{\n                            this.$router.push('/');\n                        }\n                        this.tagsList.splice(i, 1);\n                        break;\n                    }\n                }\n            })\n        }\n    }\n\n</script>\n\n\n<style>\n    .tags {\n        position: relative;\n        height: 30px;\n        overflow: hidden;\n        background: #fff;\n        padding-right: 120px;\n        box-shadow: 0 5px 10px #ddd;\n    }\n\n    .tags ul {\n        box-sizing: border-box;\n        width: 100%;\n        height: 100%;\n    }\n\n    .tags-li {\n        float: left;\n        margin: 3px 5px 2px 3px;\n        border-radius: 3px;\n        font-size: 12px;\n        overflow: hidden;\n        cursor: pointer;\n        height: 23px;\n        line-height: 23px;\n        border: 1px solid #e9eaec;\n        background: #fff;\n        padding: 0 5px 0 12px;\n        vertical-align: middle;\n        color: #666;\n        -webkit-transition: all .3s ease-in;\n        -moz-transition: all .3s ease-in;\n        transition: all .3s ease-in;\n    }\n\n    .tags-li:not(.active):hover {\n        background: #f8f8f8;\n    }\n\n    .tags-li.active {\n        color: #fff;\n    }\n\n    .tags-li-title {\n        float: left;\n        max-width: 80px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        margin-right: 5px;\n        color: #666;\n    }\n\n    .tags-li.active .tags-li-title {\n        color: #fff;\n    }\n\n    .tags-close-box {\n        position: absolute;\n        right: 0;\n        top: 0;\n        box-sizing: border-box;\n        padding-top: 1px;\n        text-align: center;\n        width: 110px;\n        height: 30px;\n        background: #fff;\n        box-shadow: -3px 0 15px 3px rgba(0, 0, 0, .1);\n        z-index: 10;\n    }\n\n</style>\n"],"sourceRoot":""}]}