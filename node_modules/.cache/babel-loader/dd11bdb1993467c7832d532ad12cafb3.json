{"remainingRequest":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86191\\Desktop\\text\\Authentication_web\\src\\components\\play\\imagePreview\\api.js","dependencies":[{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\src\\components\\play\\imagePreview\\api.js","mtime":1655627644000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86191\\Desktop\\text\\Authentication_web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVmlld2VyIGZyb20gJ3ZpZXdlcmpzJzsgLy8gaW1wb3J0IFZpZXdlciBmcm9tICd2LXZpZXdlcicKCmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ0AvbGlicy91dGlsJzsKCnZhciB2aWV3ZXJBcGkgPSBmdW5jdGlvbiB2aWV3ZXJBcGkoKSB7CiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LAogICAgICBfcmVmJGltYWdlcyA9IF9yZWYuaW1hZ2VzLAogICAgICBpbWFnZXMgPSBfcmVmJGltYWdlcyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJGltYWdlcywKICAgICAgX3JlZiRvcHRpb25zID0gX3JlZi5vcHRpb25zLAogICAgICBvcHRpb25zID0gX3JlZiRvcHRpb25zID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkb3B0aW9uczsKCiAgb3B0aW9ucyA9IGFzc2lnbihvcHRpb25zLCB7CiAgICBpbmxpbmU6IGZhbHNlIC8vIOWPquiDveS9v+eUqG1vZGFs5qih5byPCgogIH0pOyAvLyDliJvlu7rlrZjmlL52aWV3ZXJqc+WKoOi9veaJgOmcgOWbvueJh+eahOWNoOS9jeWFg+e0oO+8jOaXoOmcgOWunumZheWxleeOsAoKICB2YXIgVmlld2VyVG9rZW4gPSBWdWUuZXh0ZW5kKHsKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgZGlzcGxheTogJ25vbmUnCiAgICAgICAgfSwKICAgICAgICBjbGFzczogWydfX3ZpZXdlci10b2tlbiddCiAgICAgIH0sIGltYWdlcy5tYXAoZnVuY3Rpb24gKGF0dHIpIHsKICAgICAgICByZXR1cm4gaCgnaW1nJywgewogICAgICAgICAgYXR0cnM6IHR5cGVvZiBhdHRyID09PSAnc3RyaW5nJyA/IHsKICAgICAgICAgICAgc3JjOiBhdHRyCiAgICAgICAgICB9IDogYXR0cgogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9CiAgfSk7CiAgdmFyIHRva2VuID0gbmV3IFZpZXdlclRva2VuKCk7CiAgdG9rZW4uJG1vdW50KCk7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2tlbi4kZWwpOyAvLyDliqDovb1WaWV3ZXIKCiAgdmFyICR2aWV3ZXIgPSBuZXcgVmlld2VyKHRva2VuLiRlbCwgb3B0aW9ucyk7CiAgdmFyICRkZXN0cm95ID0gJHZpZXdlci5kZXN0cm95LmJpbmQoJHZpZXdlcik7CgogICR2aWV3ZXIuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgICRkZXN0cm95KCk7CiAgICB0b2tlbi4kZGVzdHJveSgpOwogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0b2tlbi4kZWwpOwogICAgcmV0dXJuICR2aWV3ZXI7CiAgfTsKCiAgJHZpZXdlci5zaG93KCk7IC8vIOWFs+mXrVZpZXdlcuaooeaAgeeql+WPo+aXtu+8jOmUgOavgXRva2VuCgogIHRva2VuLiRlbC5hZGRFdmVudExpc3RlbmVyKCdoaWRkZW4nLCBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy52aWV3ZXIgPT09ICR2aWV3ZXIpIHsKICAgICAgJHZpZXdlci5kZXN0cm95KCk7CiAgICB9CiAgfSk7CiAgcmV0dXJuICR2aWV3ZXI7Cn07CgpleHBvcnQgZGVmYXVsdCB2aWV3ZXJBcGk7"},{"version":3,"sources":["C:/Users/86191/Desktop/text/Authentication_web/src/components/play/imagePreview/api.js"],"names":["Vue","Viewer","assign","viewerApi","images","options","inline","ViewerToken","extend","render","h","style","display","class","map","attr","attrs","src","token","$mount","document","body","appendChild","$el","$viewer","$destroy","destroy","bind","removeChild","show","addEventListener","viewer"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CACA;;AACA,SAASC,MAAT,QAAuB,aAAvB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAwC;AAAA,iFAAP,EAAO;AAAA,yBAArCC,MAAqC;AAAA,MAArCA,MAAqC,4BAA5B,EAA4B;AAAA,0BAAxBC,OAAwB;AAAA,MAAxBA,OAAwB,6BAAd,EAAc;;AACxDA,EAAAA,OAAO,GAAGH,MAAM,CAACG,OAAD,EAAU;AACxBC,IAAAA,MAAM,EAAE,KADgB,CACV;;AADU,GAAV,CAAhB,CADwD,CAIxD;;AACA,MAAMC,WAAW,GAAGP,GAAG,CAACQ,MAAJ,CAAW;AAC7BC,IAAAA,MAD6B,kBACtBC,CADsB,EACnB;AACR,aAAOA,CAAC,CACN,KADM,EAEN;AACEC,QAAAA,KAAK,EAAE;AACLC,UAAAA,OAAO,EAAE;AADJ,SADT;AAIEC,QAAAA,KAAK,EAAE,CAAC,gBAAD;AAJT,OAFM,EAQNT,MAAM,CAACU,GAAP,CAAW,UAACC,IAAD,EAAU;AACnB,eAAOL,CAAC,CAAC,KAAD,EAAQ;AACdM,UAAAA,KAAK,EAAE,OAAOD,IAAP,KAAgB,QAAhB,GAA2B;AAAEE,YAAAA,GAAG,EAAEF;AAAP,WAA3B,GAA2CA;AADpC,SAAR,CAAR;AAGD,OAJD,CARM,CAAR;AAcD;AAhB4B,GAAX,CAApB;AAkBA,MAAMG,KAAK,GAAG,IAAIX,WAAJ,EAAd;AACAW,EAAAA,KAAK,CAACC,MAAN;AACAC,EAAAA,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BJ,KAAK,CAACK,GAAhC,EAzBwD,CA2BxD;;AACA,MAAMC,OAAO,GAAG,IAAIvB,MAAJ,CAAWiB,KAAK,CAACK,GAAjB,EAAsBlB,OAAtB,CAAhB;AACA,MAAMoB,QAAQ,GAAGD,OAAO,CAACE,OAAR,CAAgBC,IAAhB,CAAqBH,OAArB,CAAjB;;AACAA,EAAAA,OAAO,CAACE,OAAR,GAAkB,YAAY;AAC5BD,IAAAA,QAAQ;AACRP,IAAAA,KAAK,CAACO,QAAN;AACAL,IAAAA,QAAQ,CAACC,IAAT,CAAcO,WAAd,CAA0BV,KAAK,CAACK,GAAhC;AACA,WAAOC,OAAP;AACD,GALD;;AAMAA,EAAAA,OAAO,CAACK,IAAR,GApCwD,CAsCxD;;AACAX,EAAAA,KAAK,CAACK,GAAN,CAAUO,gBAAV,CAA2B,QAA3B,EAAqC,YAAY;AAC/C,QAAI,KAAKC,MAAL,KAAgBP,OAApB,EAA6B;AAC3BA,MAAAA,OAAO,CAACE,OAAR;AACD;AACF,GAJD;AAMA,SAAOF,OAAP;AACD,CA9CD;;AAgDA,eAAerB,SAAf","sourcesContent":["import Vue from 'vue'\nimport Viewer from 'viewerjs'\n// import Viewer from 'v-viewer'\nimport { assign } from '@/libs/util'\n\nconst viewerApi = ({ images = [], options = {} } = {}) => {\n  options = assign(options, {\n    inline: false // 只能使用modal模式\n  })\n  // 创建存放viewerjs加载所需图片的占位元素，无需实际展现\n  const ViewerToken = Vue.extend({\n    render(h) {\n      return h(\n        'div',\n        {\n          style: {\n            display: 'none'\n          },\n          class: ['__viewer-token']\n        },\n        images.map((attr) => {\n          return h('img', {\n            attrs: typeof attr === 'string' ? { src: attr } : attr\n          })\n        })\n      )\n    }\n  })\n  const token = new ViewerToken()\n  token.$mount()\n  document.body.appendChild(token.$el)\n\n  // 加载Viewer\n  const $viewer = new Viewer(token.$el, options)\n  const $destroy = $viewer.destroy.bind($viewer)\n  $viewer.destroy = function () {\n    $destroy()\n    token.$destroy()\n    document.body.removeChild(token.$el)\n    return $viewer\n  }\n  $viewer.show()\n\n  // 关闭Viewer模态窗口时，销毁token\n  token.$el.addEventListener('hidden', function () {\n    if (this.viewer === $viewer) {\n      $viewer.destroy()\n    }\n  })\n\n  return $viewer\n}\n\nexport default viewerApi\n"]}]}