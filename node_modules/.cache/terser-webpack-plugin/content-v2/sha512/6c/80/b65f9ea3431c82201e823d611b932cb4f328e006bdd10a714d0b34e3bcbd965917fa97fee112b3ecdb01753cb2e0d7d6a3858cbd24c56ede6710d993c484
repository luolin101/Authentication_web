{"map":"{\"version\":3,\"sources\":[\"js/chunk-21f1adf8.924b6bfb.js\"],\"names\":[\"window\",\"push\",\"7c43\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"vue_runtime_esm_bundler\",\"Object\",\"_hoisted_1\",\"class\",\"_hoisted_2\",\"_hoisted_3\",\"_hoisted_4\",\"_hoisted_5\",\"_hoisted_6\",\"_hoisted_7\",\"_hoisted_8\",\"_hoisted_9\",\"_hoisted_10\",\"_hoisted_11\",\"_hoisted_12\",\"render\",\"_ctx\",\"_cache\",\"$props\",\"$setup\",\"$data\",\"$options\",\"_component_router_link\",\"to\",\"default\",\"_\",\"src\",\"imgURL\",\"alt\",\"state\",\"onClick\",\"getToken\",\"apply\",\"arguments\",\"userAvatar\",\"userName\",\"tip\",\"request\",\"QRvue_type_script_lang_js\",\"name\",\"data\",\"count\",\"authToken\",\"userId\",\"tokenApi\",\"tokenImgApi\",\"tokenInfoApi\",\"userInfoApi\",\"created\",\"this\",\"methods\",\"_this\",\"console\",\"log\",\"clearInterval\",\"timeCount\",\"post\",\"then\",\"res\",\"setInterval\",\"getTokenInfo\",\"catch\",\"error\",\"_this2\",\"response\",\"auth\",\"authState\",\"$message\",\"message\",\"type\",\"getUserInfo\",\"_this3\",\"$ajax\",\"method\",\"url\",\"qs\",\"stringify\",\"exportHelper\",\"exportHelper_default\",\"n\",\"__exports__\",\"8ed0\",\"exports\",\"cc52\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-21f1adf8\"],{\"7c43\":function(t,e,n){\"use strict\";n.r(e);var s=n(\"7a23\");Object(s[\"M\"])(\"data-v-2da623b6\");var a={class:\"login_box\"},c=Object(s[\"n\"])(\"div\",{class:\"login_close\"},null,-1),o={class:\"qrcode\"},i=[\"src\"],u={class:\"empty\"},r={class:\"refresh\"},l=Object(s[\"n\"])(\"i\",{class:\"refresh_mask\"},null,-1),h={class:\"result\"},b=[\"src\"],d={class:\"u_name\"},f={class:\"sub_title\"},g=Object(s[\"n\"])(\"p\",{class:\"sub_desc\"},\"扫码登录，更易、更快、更安全\",-1);function p(t,e,n,p,j,m){var O=Object(s[\"S\"])(\"router-link\");return Object(s[\"J\"])(),Object(s[\"m\"])(\"div\",a,[Object(s[\"q\"])(O,{to:\"/input\"},{default:Object(s[\"hb\"])((function(){return[c]})),_:1}),Object(s[\"n\"])(\"div\",o,[Object(s[\"ib\"])(Object(s[\"n\"])(\"img\",{class:\"img\",src:j.imgURL,alt:\"登录码\"},null,8,i),[[s[\"eb\"],1===j.state||3===j.state]]),Object(s[\"ib\"])(Object(s[\"n\"])(\"div\",u,null,512),[[s[\"eb\"],0===j.state]]),Object(s[\"ib\"])(Object(s[\"n\"])(\"div\",r,[l,Object(s[\"n\"])(\"i\",{class:\"refresh_icon\",onClick:e[0]||(e[0]=function(){return m.getToken&&m.getToken.apply(m,arguments)})})],512),[[s[\"eb\"],3===j.state]]),Object(s[\"ib\"])(Object(s[\"n\"])(\"div\",h,[Object(s[\"n\"])(\"img\",{class:\"u_avatar\",src:j.userAvatar,alt:\"用户头像\"},null,8,b),Object(s[\"n\"])(\"p\",d,Object(s[\"W\"])(j.userName),1)],512),[[s[\"eb\"],2===j.state]]),Object(s[\"n\"])(\"div\",null,[Object(s[\"n\"])(\"p\",f,Object(s[\"W\"])(j.tip),1),g])])])}Object(s[\"K\"])();var j=n(\"b775\"),m={name:\"Auth\",data:function(){return{state:0,count:30,tip:\"正在获取登录码，请稍等\",imgURL:\"\",authToken:\"\",userId:\"\",userAvatar:\"\",userName:\"\",tokenApi:\"/auth/token\",tokenImgApi:\"/auth/img/\",tokenInfoApi:\"/auth/info/\",userInfoApi:\"/login/getUser\"}},created:function(){this.getToken()},methods:{getToken:function(){var t=this;console.log(\"开始获取\"),this.state=0,this.tip=\"正在获取登录码，请稍等\",this.count=30,clearInterval(this.timeCount),j[\"a\"].post(this.tokenApi).then((function(e){t.authToken=e.data,console.log(t.authToken,\"token\"),t.state=1,t.tip=\"请使用手机口令扫码登录\",t.imgURL=\"http://localhost:9090\"+t.tokenImgApi+e.data,console.log(t.imgURL),t.timeCount=setInterval(t.getTokenInfo,1e3)})).catch((function(e){console.log(e),t.getToken()}))},getTokenInfo:function(){var t=this;this.count--,0===this.count&&(this.state=3,this.tip=\"二维码已过期，请刷新\"),this.count<-1e3&&(this.count=-1),j[\"a\"].post(this.tokenInfoApi+this.authToken).then((function(e){var n=e.data;1===n.authState?(t.$message({message:\"登录成功！\",type:\"success\"}),clearInterval(t.timeCount)):2===n.authState?(t.userId=n.userId,t.getUserInfo(),t.state=2,t.tip=\"扫码成功，请在手机上确认\"):3===n.authState&&(t.state=3,t.tip=\"二维码已过期，请刷新\")})).catch((function(t){console.log(t)}))},getUserInfo:function(){var t=this;this.$ajax({method:\"post\",url:this.userInfoApi,data:this.qs.stringify({userId:this.userId})}).then((function(e){t.userName=e.data.data.userName,t.userAvatar=e.data.data.userAvatar,console.log(e.data.data)})).catch((function(t){console.log(t)}))}}},O=(n(\"cc52\"),n(\"d959\")),k=n.n(O);const v=k()(m,[[\"render\",p],[\"__scopeId\",\"data-v-2da623b6\"]]);e[\"default\"]=v},\"8ed0\":function(t,e,n){},cc52:function(t,e,n){\"use strict\";n(\"8ed0\")}}]);","extractedComments":[]}